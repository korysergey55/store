"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[452],{3882:(e,s,a)=>{a.d(s,{A:()=>l});a(5043);const l=a.p+"static/media/productsSprite.8f13263394cb3ee5783d952540822fcf.svg"},452:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var l=a(5043),i=a(6233),r=a(2735),t=a(212),n=a(4812),c=a(1238),o=a(4117);const d="styles_formWripper__32usC",u="styles_title__gg9EP",m="styles_form__cKyPw";var h=a(4523),p=a(9748),x=a(3561),j=a(3430),g=a(983),P=a(7021),f=a(3927),y=a(579);const{TextArea:N}=h.A,A=(0,i.PA)((()=>{const e={id:(0,c.A)(),name:"",category:"",subcategory:"",description:"",brand:"",weight:0,manufactur:"",fullDescription:"",AdditionalInformation:"",Reviews:"",price:0,discount:"",isSale:!1,image:"",images:[],qantity:1},{ProductsStore:s}=(0,t.Pj)(),{editedProduct:a}=s,{t:i}=(0,o.Bd)(),[r,A]=(0,l.useState)(e),[v]=p.A.useForm(),[b,w]=(0,l.useState)([]),[C,I]=(0,l.useState)([]);(0,l.useEffect)((()=>{a&&(A((0,n.HO)(a)),v.setFieldsValue({...a}))}),[a]),console.log((0,n.HO)(a)),console.log("state",r);const _=async e=>{let s=e.url;s||(s=await new Promise((s=>{const a=new FileReader;a.readAsDataURL(e.originFileObj),a.onload=()=>s(a.result)})));const a=new Image;a.src=s;const l=window.open(s);null===l||void 0===l||l.document.write(a.outerHTML)},T=e=>{const{value:s,name:a,type:l,checked:i}=e.target;A("checkbox"!==l?"price"!==a&&"weight"!==a?e=>({...e,[a]:s}):e=>({...e,[a]:Number(s)}):e=>({...e,[a]:i}))};return(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)("h2",{className:u,children:i("administrator_panel")}),(0,y.jsxs)(p.A,{form:v,name:"basic",className:m,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:async l=>{a||(s.setNewProductAction(r),await s.createProductAPI(r)),s.editProductAPI(r,a.id),A({...e}),w([]),I([]),v.resetFields(),s.resetEditedProduct()},onFinishFailed:e=>{console.log(e)},autoComplete:"off",children:[(0,y.jsx)(p.A.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please input your Product name!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product name",name:"name",value:r.name,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"category",name:"category",rules:[{required:!0,message:"Please input your Product category!"}],children:(0,y.jsx)(x.A,{style:{width:"100%"},placeholder:"Please input your Product category",rules:[{required:!0,message:"Please input your Product category!"}],options:[{value:"\u041a\u043e\u0444\u0435",label:"\u041a\u043e\u0444\u0435"},{value:"\u0421\u044b\u0440\u044b \u0438 \u043a\u043e\u043b\u0431\u0430\u0441\u044b",label:"\u0421\u044b\u0440\u044b \u0438 \u043a\u043e\u043b\u0431\u0430\u0441\u044b"},{value:"\u0421\u043b\u0430\u0434\u043e\u0441\u0442\u0438",label:"\u0421\u043b\u0430\u0434\u043e\u0441\u0442\u0438"},{value:"\u041b\u0435\u0434\u0438\u043d\u0446\u044b \u0438 \u043a\u043e\u043d\u0444\u0435\u0442\u044b",label:"\u041b\u0435\u0434\u0438\u043d\u0446\u044b \u0438 \u043a\u043e\u043d\u0444\u0435\u0442\u044b"},{value:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u044b",label:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u044b"},{value:"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u0438 \u0438 \u043f\u0430\u0448\u0442\u0435\u0442\u044b",label:"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u0438 \u0438 \u043f\u0430\u0448\u0442\u0435\u0442\u044b"},{value:"\u0421\u043e\u0443\u0441\u044b",label:"\u0421\u043e\u0443\u0441\u044b"},{value:"\u0412\u0438\u0442\u0430\u043c\u0438\u043d\u044b",label:"\u0412\u0438\u0442\u0430\u043c\u0438\u043d\u044b"},{value:"\u0420\u0430\u0437\u043d\u043e\u0435",label:"\u0420\u0430\u0437\u043d\u043e\u0435"},{value:"\u041d\u043e\u0432\u0438\u043d\u043a\u0438",label:"\u041d\u043e\u0432\u0438\u043d\u043a\u0438"}],name:"category",value:r.category,onChange:e=>{A((s=>({...s,category:e})))}})}),(0,y.jsx)(p.A.Item,{label:"subcategory",name:"subcategory",rules:[{required:!1,message:"Please input your Product subcategory!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product subcategory",name:"subcategory",value:r.subcategory,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"short-description",name:"description",rules:[{required:!0,message:"Please input your Product short-description!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product short-description",name:"description",value:r.description,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"brand",name:"brand",rules:[{required:!0,message:"Please input your Product brand!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product brand",value:r.brand,name:"brand",onChange:T})}),(0,y.jsx)(p.A.Item,{label:"weight",name:"weight",rules:[{required:!0,message:"Please input your Product weight!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product weight",name:"weight",value:r.weight,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"manufactur",name:"manufactur",rules:[{required:!0,message:"Please input your Product manufacture!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product manufacture",name:"manufactur",value:r.manufactur,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"full description",name:"fullDescription",rules:[{required:!0,message:"Please input your Product full description!"}],children:(0,y.jsx)(N,{showCount:!0,style:{height:250,marginBottom:24},placeholder:"Please input your Product full description!",name:"fullDescription",value:r.fullDescription,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"Additional Information",name:"Additional Information",rules:[{required:!1,message:"Please input your Product Additional Information!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product Additional Information",name:"AdditionalInformation",value:r.AdditionalInformation,onChange:T})}),(0,y.jsx)(p.A.Item,{label:"Reviews",name:"Reviews",rules:[{required:!0,message:"Please input your Product Reviews!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product Reviews",onChange:T,name:"Reviews",value:r.Reviews})}),(0,y.jsx)(p.A.Item,{label:"price",name:"price",rules:[{required:!0,message:"Please input your Product price!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product price",name:"price",value:r.price,type:"number",onChange:T})}),(0,y.jsx)(p.A.Item,{label:"discount",name:"discount",rules:[{required:!1,message:"Please input your Product discount %!"}],children:(0,y.jsx)(h.A,{placeholder:"Please input your Product discount %",name:"discount",value:r.discount,type:"number",onChange:T})}),(0,y.jsx)(p.A.Item,{label:"Main image",name:"image",children:(0,y.jsx)(f.A,{rotationSlider:!0,children:(0,y.jsx)(j.A,{listType:"picture-card",fileList:b,value:b,onChange:async e=>{let{fileList:s}=e;if(w(s),s.length){const e=await new Promise((e=>{var a;const l=new FileReader;l.readAsDataURL(null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.originFileObj),l.onload=()=>e(l.result)}));console.log(e),A((s=>({...s,image:e})))}},onPreview:_,onRemove:()=>A((e=>({...e,image:""}))),children:b.length<1&&"+ Upload"})})}),(0,y.jsx)(p.A.Item,{label:"images",name:"images",rules:[{required:!1,message:"Please input your Product images!"}],children:(0,y.jsx)(f.A,{rotationSlider:!0,children:(0,y.jsx)(j.A,{listType:"picture-card",fileList:C,value:C,onChange:async e=>{let{fileList:s}=e;I(s);let a=[];for(const l of s){const e=await new Promise((e=>{var a;const i=new FileReader;i.readAsDataURL(null===s||void 0===s||null===(a=s[s.indexOf(l)])||void 0===a?void 0:a.originFileObj),i.onload=()=>e(i.result)}));a.push(e)}A((e=>({...e,images:[...a]})))},onPreview:_,children:C.length<7&&"+ Upload"})})}),(0,y.jsx)(p.A.Item,{name:"Is sale",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,y.jsx)(g.A,{name:"isSale",value:r.isSale,onChange:T,children:"Is sale"})}),(0,y.jsx)(p.A.Item,{wrapperCol:{offset:8,span:16},children:(0,y.jsx)(P.Ay,{type:"primary",htmlType:"submit",children:a?"Edit product":"Create product"})})]})]})})),v="styles_list__EWde6",b={container:"styles_container__8BtW7",list:"styles_list__xLRZT",iconEditContainer:"styles_iconEditContainer__vEEwK",icon:"styles_icon__dfZ9K",iconBinContainer:"styles_iconBinContainer__9cS1+"};var w=a(3882),C=a(2019),I=a(322);const _=(0,i.PA)((function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];const{id:l,name:i,category:r,subcategory:n,description:c,brand:o,weight:d,manufactur:u,fullDescription:m,AdditionalInformation:h,Reviews:p,price:x,discount:j,isSale:g,image:f,images:N}=s[0].product,{ProductsStore:A}=(0,t.Pj)();return(0,y.jsx)("li",{className:b.container,children:(0,y.jsxs)("ul",{className:b.list,children:[(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("div",{className:b.iconEditContainer,onClick:()=>A.setEditedProduct(l),children:(0,y.jsx)("svg",{className:b.icon,children:(0,y.jsx)("use",{href:w.A+"#icon-pencil"})})}),(0,y.jsx)("div",{className:b.iconBinContainer,children:(0,y.jsx)(I.A,{title:"Delete product",description:"Are you sure to delete this product?",onConfirm:async e=>{await A.deleteProductAPI(l)&&(C.Ay.success("Product was secsesfuly deleted"),A.getAllProductsAPI())},onCancel:e=>{C.Ay.error("Rejected deleted")},okText:"Yes",cancelText:"No",children:(0,y.jsx)(P.Ay,{danger:!0,children:"Delete"})})})]}),(0,y.jsx)("li",{className:b.item,children:(0,y.jsx)("img",{src:f,alt:"product-image",width:"100",height:"100"})}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"id"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",l]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"name"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",i]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"category"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",r]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"subcategory"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",n]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"brand"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",o]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"weight"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",d]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"manufactur"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",u]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"fullDescription"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",m]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"AdditionalInformation"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",h]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"Reviews"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",p]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"price"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",x]})]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"discount"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",j]}),j]}),(0,y.jsxs)("li",{className:b.item,children:[(0,y.jsx)("p",{className:"fieldName",children:"isSale"}),(0,y.jsxs)("h3",{className:"fieldText",children:[" ",g||"not"]})]})]})})})),T=(0,i.PA)((()=>{const{ProductsStore:e}=(0,t.Pj)(),{products:s,filteredProducts:a}=e,[i,r]=(0,l.useState)(!1);return(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)("button",{type:"button",className:"showButton",onClick:()=>r(!i),children:i?"Hide Product list":"Show all Products on Databese"}),i&&(0,y.jsx)("ul",{className:v,children:null===a||void 0===a?void 0:a.map((e=>(0,y.jsx)(_,{product:e},e.id)))})]})})),R={container:"styles_container__+0Iiz"},S=(0,i.PA)((()=>(0,y.jsxs)("div",{className:R.adminPage,children:[(0,y.jsx)(r.A,{}),(0,y.jsxs)("div",{className:R.container,children:[(0,y.jsx)(A,{}),(0,y.jsx)(T,{})]})]})))}}]);
//# sourceMappingURL=452.77abfe76.chunk.js.map