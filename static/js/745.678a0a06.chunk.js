"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[745],{745:(e,s,a)=>{a.r(s),a.d(s,{default:()=>W});var t=a(5043),o=a(212),r=a(6233),n=a(3216),l=a(6763);const i="styles_modal__HWIEM";var c=a(1115),m=a(579);const d=(0,r.PA)((e=>{let{title:s,visible:a,children:t,width:r}=e;const{AuthStore:d}=(0,o.Pj)(),h=(0,n.Zp)();return(0,m.jsx)(c.A,{title:s,className:i,width:r,visible:a,onOk:()=>{d.toggleAntModalAction()},onCancel:()=>{d.toggleAntModalAction(),h(l.U.home),d.resetForgotPasswordAction()},footer:!0,children:t})}));var h=a(4117),u=a(8289);a(2465),a(199);const g=u.A.initializeApp({apiKey:"AIzaSyBTbTWaBdsiKu5y3-u8MOzijlRybA4xe-w",authDomain:"store-c430f.firebaseapp.com",databaseURL:"https://store-c430f-default-rtdb.europe-west1.firebasedatabase.app",projectId:"store-c430f",storageBucket:"store-c430f.appspot.com",messagingSenderId:"315502274086",appId:"1:315502274086:web:f720a663c7921f5d81a8e7",measurementId:"G-SFR8X80VEE"}),p=g.auth(),_=g.firestore();var y=a(3401);a(5016);const w=new u.A.auth.GoogleAuthProvider,j=new u.A.auth.FacebookAuthProvider,A={loginForm:"styles_loginForm__GGTzj",subtitle:"styles_subtitle__sI8jy",list:"styles_list__AMpJ8",item:"styles_item__U2OZJ",loginBtn:"styles_loginBtn__m4YbU",text:"styles_text__SOjyw"};var x=a(3910),f=a(892);const P=(0,r.PA)((()=>{const{AuthStore:e}=(0,o.Pj)(),s=(0,n.Zp)(),{t:a}=(0,h.Bd)(),t=async()=>{const a=await(async()=>{try{const e=await p.signInWithPopup(w);return e&&y.oR.success("You was successfully Login!",{theme:"colored"}),e}catch(e){y.oR.error("".concat(e.message),{theme:"colored"})}})();a&&(e.loginUserAction(a.credential.accessToken),s(l.U.home))},r=async()=>{const a=await(async()=>{try{return await p.signInWithPopup(j)}catch(e){y.oR.error("".concat(e.message),{theme:"colored"})}})();a&&(e.loginUserAction(a.credential.accessToken),s(l.U.home))};return(0,m.jsxs)("div",{className:A.loginForm,children:[(0,m.jsx)("h2",{className:A.subtitle,children:a("\u0412\u0445\u043e\u0434 c \u043f\u043e\u043c\u043e\u0449\u044c\u044e")}),(0,m.jsxs)("ul",{className:A.list,children:[(0,m.jsxs)("li",{className:A.item,name:"google",onClick:()=>t(),children:[(0,m.jsx)("p",{className:A.text,children:" Google"}),(0,m.jsx)("button",{className:A.loginBtn,type:"button",children:(0,m.jsx)(x.g,{className:A.icon,icon:f.FjH,color:"white",size:"2x"})})]}),(0,m.jsxs)("li",{className:A.item,name:"facebook",onClick:()=>r(),children:[(0,m.jsx)("p",{className:A.text,children:" Facebook"}),(0,m.jsx)("button",{className:A.loginBtn,type:"button",children:(0,m.jsx)(x.g,{icon:f.Kjv,color:"white",size:"2x"})})]})]})]})})),b={authForm:"styles_authForm__9fo40",form:"styles_form__OwXF3",btnContainer:"styles_btnContainer__UZ9fW",btnChange:"styles_btnChange__cs+hq",activ:"styles_activ__HcV19",forgotPassword:"styles_forgotPassword__CkHcr"};var v=a(8139),C=a.n(v),F=a(9748),N=a(7021),k=a(4523),I=a(983);const R=(0,r.PA)((()=>{const{AuthStore:e}=(0,o.Pj)(),s=(0,n.Zp)(),{t:a}=(0,h.Bd)(),[r,i]=(0,t.useState)(!0),[c]=F.A.useForm(),[d,u]=(0,t.useState)({name:"",email:"",password:""}),g=async()=>{if(r){await(async(e,s)=>{try{const a=await p.signInWithEmailAndPassword(e,s);return a&&y.oR.success("You was successfully Login!",{theme:"colored"}),a}catch(a){y.oR.error("".concat(a.message),{theme:"colored"})}})(d.email,d.password)&&(e.toggleModalAction(),s(l.U.home))}else(async(e,s,a)=>{try{const t=await p.createUserWithEmailAndPassword(s,a);t&&y.oR.success("You was successfully registered. Login please!",{theme:"colored"});const o=t.user;await _.collection("users").add({uid:o.uid,name:e,authProvider:"local",email:s})}catch(t){y.oR.error("".concat(t.message),{theme:"colored"})}})(d.name,d.email,d.password),s(l.U.login),e.toggleModalAction()},w=e=>{const{value:s,name:a}=e.target;u((e=>({...e,[a]:s})))};return(0,m.jsx)("div",{className:b.authForm,children:(0,m.jsxs)(F.A,{form:c,name:"AuthForm",className:b.form,labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:()=>{g(),i(!0),c.setFieldsValue({name:"",email:"",password:""})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,m.jsxs)("div",{className:b.btnContainer,children:[(0,m.jsx)(N.Ay,{className:C()(b.btnChange,{[b.activ]:r}),type:"primary",onClick:()=>i(!0),children:a("loginPage.sign_in")}),(0,m.jsx)(N.Ay,{className:C()(b.btnChange,{[b.activ]:!r}),type:"primary",onClick:()=>i(!1),children:a("loginPage.registration")})]}),!r&&(0,m.jsx)(F.A.Item,{label:a("loginPage.name"),name:"name",rules:[{required:!0,message:a("loginPage.enter_your_name_please")}],children:(0,m.jsx)(k.A,{name:"name",value:d.name,onChange:e=>w(e)})}),(0,m.jsx)(F.A.Item,{label:"Email",name:"email",rules:[{required:!0,message:a("loginPage.enter_your_email_please")}],children:(0,m.jsx)(k.A,{name:"email",value:d.email,onChange:w})}),(0,m.jsx)(F.A.Item,{label:"Password",name:"password",rules:[{required:!0,message:a("loginPage.enter_your_password_please")}],children:(0,m.jsx)(k.A.Password,{name:"password",value:d.password,onChange:w})}),r&&(0,m.jsxs)("p",{className:b.forgotPassword,type:"button",onClick:()=>{e.setForgotPasswordAction()},children:[a("loginPage.forgot_password")," ?"]}),(0,m.jsx)(F.A.Item,{className:b.chekbox,name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,m.jsx)(I.A,{children:a("loginPage.remember_me")})}),(0,m.jsx)(F.A.Item,{wrapperCol:{offset:8,span:16},children:(0,m.jsx)(N.Ay,{type:"primary",htmlType:"submit",children:a("loginPage.confirm")})})]})})})),U={formContainer:"styles_formContainer__2Df3X",title:"styles_title__HmcQ2",label:"styles_label__IFkyg"},S=()=>{const e=(0,n.Zp)(),{t:s}=(0,h.Bd)(),[a]=F.A.useForm(),[o,r]=(0,t.useState)("");return(0,m.jsx)("div",{className:U.formContainer,children:(0,m.jsxs)(F.A,{form:a,name:"ResetPasswodForm",initialValues:{remember:!0},onFinish:async()=>{await(async(e,s)=>{try{const s=await p.sendPasswordResetEmail(e);return(0,y.oR)("Password reset link sent! Check your email!",{theme:"colored"}),s}catch(a){y.oR.error("".concat(a.message),{theme:"colored"})}})(o)&&e(l.U.home)},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,m.jsx)("h2",{className:U.title,children:s("resetPasswordPage.reset_password_form")}),(0,m.jsx)(F.A.Item,{className:U.label,name:["email"],label:s("resetPasswordPage.enter_your_email_please"),rules:[{required:!0,message:s("resetPasswordPage.enter_valid_email_please"),type:"email"}],children:(0,m.jsx)(k.A,{className:U.input,name:"email",value:o,placeholder:s("resetPasswordPage.enter_your_email_please"),onChange:e=>(e=>{const{value:s}=e.target;r(s)})(e)})}),(0,m.jsx)(F.A.Item,{wrapperCol:{offset:8,span:16},children:(0,m.jsx)(N.Ay,{type:"primary",htmlType:"submit",children:s("resetPasswordPage.reset_password")})})]})})},B={hero:"styles_hero__FbkPv",container:"styles_container__8s6rz",wripper:"styles_wripper__qTrvX",contentWripper:"styles_contentWripper__PAC+1"},W=(0,r.PA)((()=>{const{AuthStore:e}=(0,o.Pj)(),{antModal:s,forgotPassword:a}=e;return(0,t.useEffect)((()=>{!s&&e.toggleAntModalAction()}),[e]),(0,m.jsxs)("div",{className:B.LoginPage,children:[(0,m.jsx)("div",{className:B.hero}),(0,m.jsx)("div",{className:B.container,children:s&&(0,m.jsx)(d,{visible:!0,width:"",children:(0,m.jsx)("div",{className:B.wripper,children:a?(0,m.jsx)(S,{}):(0,m.jsxs)("div",{className:B.contentWripper,children:[(0,m.jsx)(R,{}),(0,m.jsx)(P,{})]})})})})]})}))}}]);
//# sourceMappingURL=745.678a0a06.chunk.js.map